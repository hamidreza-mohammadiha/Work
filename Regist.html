<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø«Ø¨Øª Ù†Ø§Ù… - Ø§Ø±Ø³Ø§Ù„ Ù…Ø¯Ø§Ø±Ú© Ùˆ Ø§Ù…Ø¶Ø§ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ† Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯</title>
    <!-- Vazir Font -->
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font@v30.1.0/dist/font-face.css" rel="stylesheet" type="text/css">
    <style>
        /* CSS Variables for Theming */
        :root {
            --primary: #1F4E79;
            --secondary: #4A7EBB;
            --tertiary: #F2C94C;
            --background: #FFF6D1;
            --white: #FFFFFF;
            --text-dark: #333333;
            --text-light: #666666;
            --gray-light: #F5F5F5;
            --gray: #E0E0E0;
            --success: #27AE60;
            --warning: #E67E22;
            --error: #EB5757;
            --shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 5px 15px rgba(0, 0, 0, 0.1);
            --radius: 8px;
            --transition: all 0.3s ease;
            --spacing-xs: 8px;
            --spacing-sm: 16px;
            --spacing-md: 24px;
            --spacing-lg: 32px;
            --spacing-xl: 48px;
        }

        /* Reset & Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Vazir, sans-serif;
            background-color: var(--white);
            color: var(--text-dark);
            line-height: 1.6;
            direction: rtl;
            padding-bottom: var(--spacing-xl);
        }

        /* Typography */
        h1, h2, h3, h4 {
            font-weight: 700;
            color: var(--primary);
        }

        h1 {
            font-size: 1.75rem;
            margin-bottom: var(--spacing-md);
        }

        h2 {
            font-size: 1.5rem;
            margin-bottom: var(--spacing-sm);
        }

        h3 {
            font-size: 1.25rem;
            margin-bottom: var(--spacing-xs);
        }

        p {
            margin-bottom: var(--spacing-sm);
        }

        /* Layout */
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--spacing-sm);
        }

        /* Header Section */
        header {
            background: linear-gradient(to left, var(--primary), var(--secondary));
            color: var(--white);
            padding: var(--spacing-lg) 0;
            margin-bottom: var(--spacing-xl);
            box-shadow: var(--shadow-lg);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: var(--spacing-md);
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background-color: var(--tertiary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .user-story {
            background-color: rgba(255, 255, 255, 0.15);
            border-radius: var(--radius);
            padding: var(--spacing-md);
            margin-top: var(--spacing-md);
            box-shadow: var(--shadow);
        }

        .user-story h2 {
            color: var(--white);
            margin-bottom: var(--spacing-sm);
        }

        /* Main Content */
        .main-content {
            display: grid;
            grid-template-columns: 1fr;
            gap: var(--spacing-lg);
        }

        @media (min-width: 992px) {
            .main-content {
                grid-template-columns: 1fr 1fr;
            }
        }

        /* Cards */
        .card {
            background-color: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-lg);
            transition: var(--transition);
        }

        .card:hover {
            box-shadow: var(--shadow-lg);
        }

        .card-title {
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
            margin-bottom: var(--spacing-md);
            padding-bottom: var(--spacing-sm);
            border-bottom: 1px solid var(--gray);
        }

        .card-title-icon {
            width: 32px;
            height: 32px;
            background-color: var(--tertiary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-weight: bold;
        }

        /* Form Elements */
        .form-group {
            margin-bottom: var(--spacing-md);
        }

        label {
            display: block;
            margin-bottom: var(--spacing-xs);
            font-weight: 600;
            color: var(--text-light);
        }

        .input-wrapper {
            position: relative;
        }

        input, select, textarea {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--gray);
            border-radius: var(--radius);
            font-family: Vazir, sans-serif;
            font-size: 1rem;
            transition: var(--transition);
            background-color: var(--white);
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--secondary);
            box-shadow: 0 0 0 3px rgba(74, 126, 187, 0.1);
        }

        .input-icon {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-light);
        }

        /* Verification Box */
        .verification-box {
            background-color: rgba(31, 78, 121, 0.05);
            border: 1px solid rgba(31, 78, 121, 0.1);
            border-radius: var(--radius);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-md);
        }

        .verification-code {
            display: flex;
            gap: var(--spacing-xs);
            margin-top: var(--spacing-sm);
            justify-content: center;
        }

        .verification-code input {
            width: 50px;
            height: 50px;
            text-align: center;
            font-size: 1.25rem;
            font-weight: bold;
        }

        /* Upload Area */
        .upload-area {
            border: 2px dashed var(--gray);
            border-radius: var(--radius);
            padding: var(--spacing-xl) var(--spacing-md);
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            margin-bottom: var(--spacing-sm);
        }

        .upload-area:hover {
            border-color: var(--secondary);
            background-color: rgba(74, 126, 187, 0.05);
        }

        .upload-area.dragover {
            border-color: var(--tertiary);
            background-color: rgba(242, 201, 76, 0.1);
        }

        .upload-icon {
            font-size: 3rem;
            color: var(--secondary);
            margin-bottom: var(--spacing-sm);
        }

        .upload-list {
            list-style: none;
        }

        .upload-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-sm);
            border-bottom: 1px solid var(--gray-light);
        }

        .upload-item:last-child {
            border-bottom: none;
        }

        .upload-status {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: var(--gray);
        }

        .upload-status.uploaded {
            background-color: var(--success);
        }

        /* Signature Area */
        .signature-container {
            border: 1px solid var(--gray);
            border-radius: var(--radius);
            height: 200px;
            margin-bottom: var(--spacing-md);
            position: relative;
            background-color: var(--white);
        }

        #signatureCanvas {
            width: 100%;
            height: 100%;
            cursor: crosshair;
            border-radius: var(--radius);
        }

        .signature-actions {
            display: flex;
            gap: var(--spacing-xs);
            justify-content: center;
            margin-bottom: var(--spacing-md);
        }

        /* Contract Area */
        .contract-container {
            max-height: 500px;
            overflow-y: auto;
            border: 1px solid var(--gray);
            border-radius: var(--radius);
            padding: var(--spacing-md);
            background-color: var(--white);
            margin-bottom: var(--spacing-md);
            line-height: 1.8;
        }

        .contract-highlight {
            background-color: rgba(242, 201, 76, 0.3);
            padding: 2px 4px;
            border-radius: 4px;
            font-weight: bold;
        }

        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--spacing-xs);
            padding: 12px 24px;
            border: none;
            border-radius: var(--radius);
            font-family: Vazir, sans-serif;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
        }

        .btn-primary {
            background-color: var(--primary);
            color: var(--white);
        }

        .btn-primary:hover {
            background-color: #173c5f;
            box-shadow: var(--shadow);
        }

        .btn-secondary {
            background-color: var(--secondary);
            color: var(--white);
        }

        .btn-secondary:hover {
            background-color: #3a6ca5;
            box-shadow: var(--shadow);
        }

        .btn-tertiary {
            background-color: var(--tertiary);
            color: var(--primary);
        }

        .btn-tertiary:hover {
            background-color: #e6b83e;
            box-shadow: var(--shadow);
        }

        .btn-outline {
            background-color: transparent;
            color: var(--primary);
            border: 1px solid var(--primary);
        }

        .btn-outline:hover {
            background-color: rgba(31, 78, 121, 0.05);
        }

        .btn-full {
            width: 100%;
        }

        .btn-group {
            display: flex;
            gap: var(--spacing-xs);
            margin-top: var(--spacing-md);
        }

        /* Progress Indicator */
        .progress-container {
            margin-bottom: var(--spacing-xl);
        }

        .progress-steps {
            display: flex;
            justify-content: space-between;
            position: relative;
            margin-bottom: var(--spacing-lg);
        }

        .progress-steps::before {
            content: '';
            position: absolute;
            top: 20px;
            right: 0;
            left: 0;
            height: 4px;
            background-color: var(--gray);
            z-index: 1;
        }

        .progress-bar {
            position: absolute;
            top: 20px;
            right: 0;
            height: 4px;
            background-color: var(--tertiary);
            z-index: 2;
            transition: width 0.5s ease;
        }

        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 3;
        }

        .step-circle {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background-color: var(--white);
            border: 3px solid var(--gray);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: var(--text-light);
            margin-bottom: var(--spacing-xs);
            transition: var(--transition);
        }

        .step.active .step-circle {
            border-color: var(--tertiary);
            background-color: var(--tertiary);
            color: var(--primary);
        }

        .step.completed .step-circle {
            border-color: var(--tertiary);
            background-color: var(--tertiary);
            color: var(--primary);
        }

        .step-label {
            font-size: 0.875rem;
            color: var(--text-light);
        }

        .step.active .step-label {
            color: var(--primary);
            font-weight: 600;
        }

        /* Status Badges */
        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            text-align: center;
        }

        .badge-warning {
            background-color: rgba(242, 201, 76, 0.2);
            color: #b88c0f;
        }

        .badge-success {
            background-color: rgba(39, 174, 96, 0.2);
            color: var(--success);
        }

        /* Footer */
        footer {
            text-align: center;
            margin-top: var(--spacing-xl);
            padding-top: var(--spacing-lg);
            border-top: 1px solid var(--gray);
            color: var(--text-light);
            font-size: 0.875rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .btn-group {
                flex-direction: column;
            }
            
            .verification-code {
                flex-wrap: wrap;
            }
            
            .verification-code input {
                width: 40px;
                height: 40px;
            }
        }
    </style>
</head>
<body>
    <!-- Header Section -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <!-- <div class="logo-icon"></div> -->
                    <span> Ø«Ø¨Øª Ù†Ø§Ù… Ú©Ø³Ø¨ Ùˆ Ú©Ø§Ø±</span>
                </div>
                <div class="user-info">
                    <div style="color: #333333;" class="badge badge-warning">Ø¯Ø± Ø­Ø§Ù„ ØªÚ©Ù…ÛŒÙ„ Ø«Ø¨Øª Ù†Ø§Ù…</div>
                </div>
            </div>
            
            <div class="user-story">
                <h3 style="color: #333333;">Ø§Ø±Ø³Ø§Ù„ Ù…Ø¯Ø§Ø±Ú© Ùˆ Ø§Ù…Ø¶Ø§ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ† Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯</h3>
                <p style="color: #333333;">Ù…Ù† Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† ØµØ§Ø­Ø¨ Ú©Ø³Ø¨ Ùˆ Ú©Ø§Ø± Ù…ÛŒâ€ŒØ®ÙˆØ§Ù… Ø¨Ù‡ ØµÙˆØ±Øª Ø¢Ù†Ù„Ø§ÛŒÙ† Ù…Ø¯Ø§Ø±Ú© Ù„Ø§Ø²Ù… Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ø³Ø±ÙˆÛŒØ³ ÙØ±ÙˆØ´ Ø§Ø¹ØªØ¨Ø§Ø±ÛŒ Ø±Ùˆ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ùˆ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ø±Ùˆ Ø§Ù…Ø¶Ø§ Ú©Ù†Ù….</p>
            </div>
        </div>
    </header>

    <!-- Progress Indicator -->
    <div class="container progress-container">
        <div class="progress-steps">
            <div class="progress-bar" id="progressBar"></div>
            <div class="step completed">
                <div class="step-circle">Û±</div>
                <span class="step-label">Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ø®ØµÛŒ</span>
            </div>
            <div class="step active">
                <div class="step-circle">Û²</div>
                <span class="step-label">Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø¯Ø§Ø±Ú©</span>
            </div>
            <div class="step">
                <div class="step-circle">Û³</div>
                <span class="step-label">Ø§Ù…Ø¶Ø§ÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„</span>
            </div>
            <div class="step">
                <div class="step-circle">Û´</div>
                <span class="step-label">ØªØ§ÛŒÛŒØ¯ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯</span>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container main-content">
        <!-- Left Column: Forms & Uploads -->
        <div class="left-column">
            <!-- Personal Information Card -->
            <div class="card" id="personalInfoCard">
                <div class="card-title">
                    <div class="card-title-icon">Û±</div>
                    <h3>Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ø®ØµÛŒ Ùˆ Ú©Ø³Ø¨ Ùˆ Ú©Ø§Ø±</h3>
                </div>
                
                <div class="verification-box">
                    <p>Ù„Ø·ÙØ§ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø²ÛŒØ± Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ùˆ ØªØ£ÛŒÛŒØ¯ Ú©Ù†ÛŒØ¯:</p>
                    <div class="form-group">
                        <label>Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ</label>
                        <div class="input-wrapper">
                            <input type="text" value="Ù…Ø§Ù‡Ø§Ù† Ù†ÙˆØ±ÛŒ" readonly>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Ø¹Ù†ÙˆØ§Ù† Ú©Ø³Ø¨ Ùˆ Ú©Ø§Ø±</label>
                        <div class="input-wrapper">
                            <input type="text" value="Ú©Ø§ÙÙ‡ Ù…Ø§Ù‡Ø§Ù†" readonly>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Ø´Ù…Ø§Ø±Ù‡ Ù‡Ù…Ø±Ø§Ù‡</label>
                        <div class="input-wrapper">
                            <input type="text" value="09123456789" readonly>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Ø±Ù…Ø² ÛŒÚ©Ø¨Ø§Ø± Ù…ØµØ±Ù Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡ Ø¨Ù‡ Ø´Ù…Ø§Ø±Ù‡ Ù‡Ù…Ø±Ø§Ù‡</label>
                        <div class="verification-code">
                            <input type="text" maxlength="1" id="code1">
                            <input type="text" maxlength="1" id="code2">
                            <input type="text" maxlength="1" id="code3">
                            <input type="text" maxlength="1" id="code4">
                            <input type="text" maxlength="1" id="code5">
                        </div>
                        <div class="btn-group">
                            <button class="btn btn-outline" id="resendCode">Ø§Ø±Ø³Ø§Ù„ Ù…Ø¬Ø¯Ø¯ Ú©Ø¯</button>
                            <button class="btn btn-secondary" id="verifyCode">ØªØ£ÛŒÛŒØ¯ Ú©Ø¯</button>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="nationalCode">Ú©Ø¯ Ù…Ù„ÛŒ</label>
                    <div class="input-wrapper">
                        <input type="text" id="nationalCode" placeholder="Ú©Ø¯ Ù…Ù„ÛŒ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="taxCode">Ú©Ø¯ Ù…Ø§Ù„ÛŒØ§ØªÛŒ</label>
                    <div class="input-wrapper">
                        <input type="text" id="taxCode" placeholder="Ú©Ø¯ Ù…Ø§Ù„ÛŒØ§ØªÛŒ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="businessAddress">Ø¢Ø¯Ø±Ø³ ØªØ¬Ø§Ø±ÛŒ</label>
                    <div class="input-wrapper">
                        <textarea id="businessAddress" rows="3" placeholder="Ø¢Ø¯Ø±Ø³ Ú©Ø§Ù…Ù„ Ù…Ø­Ù„ Ú©Ø³Ø¨ Ùˆ Ú©Ø§Ø±"></textarea>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="postalCode">Ú©Ø¯ Ù¾Ø³ØªÛŒ ÙˆØ§Ø­Ø¯ ØªØ¬Ø§Ø±ÛŒ</label>
                    <div class="input-wrapper">
                        <input type="text" id="postalCode" placeholder="Ú©Ø¯ Ù¾Ø³ØªÛŒ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="shebaNumber">Ø´Ù…Ø§Ø±Ù‡ Ø´Ø¨Ø§</label>
                    <div class="input-wrapper">
                        <input type="text" id="shebaNumber" placeholder="IRXXXXXXXXXXXXXXXXXXXXXXXX">
                    </div>
                </div>
                
                <button class="btn btn-primary btn-full" id="savePersonalInfo">Ø°Ø®ÛŒØ±Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª</button>
            </div>

            <!-- Document Upload Card -->
            <div class="card" id="documentUploadCard">
                <div class="card-title">
                    <div class="card-title-icon">Û²</div>
                    <h3>Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø¯Ø§Ø±Ú©</h3>
                </div>
                
                <p>Ù„Ø·ÙØ§ Ù…Ø¯Ø§Ø±Ú© Ø²ÛŒØ± Ø±Ø§ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯:</p>
                
                <div class="form-group">
                    <label>ØªØµÙˆÛŒØ± Ú©Ø§Ø±Øª Ù…Ù„ÛŒ </label>
                    <div class="upload-area" id="nationalCardUpload">
                        <div class="upload-icon">ğŸ“„</div>
                        <p>Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ÙØ§ÛŒÙ„ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ø±Ù‡Ø§ Ú©Ù†ÛŒØ¯ ÛŒØ§ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯</p>
                        <p class="file-types">ÙØ±Ù…Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø¬Ø§Ø²: JPG, PNG, PDF (Ø­Ø¯Ø§Ú©Ø«Ø± 5MB)</p>
                    </div>
                    <ul class="upload-list">
                        <li class="upload-item">
                            <span>Ú©Ø§Ø±Øª Ù…Ù„ÛŒ - ØµØ§Ø­Ø¨ Ú©Ø³Ø¨ Ùˆ Ú©Ø§Ø±.jpg</span>
                            <div class="upload-status uploaded"></div>
                        </li>
                        <!-- <li class="upload-item">
                            <span>Ú©Ø§Ø±Øª Ù…Ù„ÛŒ - Ø·Ø±Ù Ø¯ÙˆÙ….jpg</span>
                            <div class="upload-status"></div>
                        </li> -->
                    </ul>
                </div>
                
                <div class="form-group">
                    <label>ØªØµÙˆÛŒØ± Ú©Ø§Ø±Øª Ø¨Ø§Ù†Ú©ÛŒ</label>
                    <div class="upload-area" id="bankCardUpload">
                        <div class="upload-icon">ğŸ’³</div>
                        <p>Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ÙØ§ÛŒÙ„ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ø±Ù‡Ø§ Ú©Ù†ÛŒØ¯ ÛŒØ§ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯</p>
                        <p class="file-types">ÙØ±Ù…Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø¬Ø§Ø²: JPG, PNG, PDF (Ø­Ø¯Ø§Ú©Ø«Ø± 5MB)</p>
                    </div>
                    <ul class="upload-list">
                        <li class="upload-item">
                            <span>Ú©Ø§Ø±Øª Ø¨Ø§Ù†Ú©ÛŒ.jpg</span>
                            <div class="upload-status"></div>
                        </li>
                    </ul>
                </div>
                
                <div class="form-group">
                    <label>Ù…Ø¯Ø±Ú© Ù…Ø¹ØªØ¨Ø± (Ù†Ø¸Ø§Ù… Ù¾Ø²Ø´Ú©ÛŒ / Ø¬ÙˆØ§Ø² Ú©Ø³Ø¨ / Ú¯ÙˆØ§Ù‡ÛŒâ€ŒÙ†Ø§Ù…Ù‡ ÙÙ†ÛŒ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ / Ú¯ÙˆØ§Ù‡ÛŒâ€ŒÙ†Ø§Ù…Ù‡ Ø¨ÛŒÙ†â€ŒØ§Ù„Ù…Ù„Ù„ÛŒ)</label>
                    <div class="upload-area" id="certificateUpload">
                        <div class="upload-icon">ğŸ“‹</div>
                        <p>Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ÙØ§ÛŒÙ„ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ø±Ù‡Ø§ Ú©Ù†ÛŒØ¯ ÛŒØ§ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯</p>
                        <p class="file-types">ÙØ±Ù…Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø¬Ø§Ø²: JPG, PNG, PDF (Ø­Ø¯Ø§Ú©Ø«Ø± 5MB)</p>
                    </div>
                    <ul class="upload-list">
                        <li class="upload-item">
                            <span>Ø¬ÙˆØ§Ø² Ú©Ø³Ø¨.pdf</span>
                            <div class="upload-status uploaded"></div>
                        </li>
                    </ul>
                </div>
                
                <button class="btn btn-primary btn-full" id="uploadDocuments">ØªØ£ÛŒÛŒØ¯ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø¯Ø§Ø±Ú©</button>
            </div>
        </div>

        <!-- Right Column: Signature & Contract -->
        <div class="right-column">
            <!-- Digital Signature Card -->
            <div class="card" id="signatureCard">
                <div class="card-title">
                    <div class="card-title-icon">Û³</div>
                    <h3>Ø§Ù…Ø¶Ø§ÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„</h3>
                </div>
                
                <p>Ù„Ø·ÙØ§ Ø§Ù…Ø¶Ø§ÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„ Ø®ÙˆØ¯ Ø±Ø§ Ø¯Ø± Ú©Ø§Ø¯Ø± Ø²ÛŒØ± Ø±Ø³Ù… Ú©Ù†ÛŒØ¯:</p>
                
                <div class="signature-container">
                    <canvas id="signatureCanvas"></canvas>
                </div>
                
                <div class="signature-actions">
                    <button class="btn btn-outline" id="clearSignature">Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ø§Ù…Ø¶Ø§</button>
                    <button class="btn btn-tertiary" id="saveSignature">Ø°Ø®ÛŒØ±Ù‡ Ø§Ù…Ø¶Ø§</button>
                </div>
                
                <div class="form-group">
                    <label for="signaturePin">Ø±Ù…Ø² Û´ Ø±Ù‚Ù…ÛŒ Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§Ù…Ø¶Ø§</label>
                    <div class="input-wrapper">
                        <input type="password" id="signaturePin" maxlength="4" placeholder="ÛŒÚ© Ø±Ù…Ø² Û´ Ø±Ù‚Ù…ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="confirmSignaturePin">ØªÚ©Ø±Ø§Ø± Ø±Ù…Ø² Û´ Ø±Ù‚Ù…ÛŒ</label>
                    <div class="input-wrapper">
                        <input type="password" id="confirmSignaturePin" maxlength="4" placeholder="Ø±Ù…Ø² Û´ Ø±Ù‚Ù…ÛŒ Ø±Ø§ ØªÚ©Ø±Ø§Ø± Ú©Ù†ÛŒØ¯">
                    </div>
                </div>
                
                <button class="btn btn-primary btn-full" id="saveSignatureData">Ø°Ø®ÛŒØ±Ù‡ Ø§Ù…Ø¶Ø§ÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„</button>
            </div>

            <!-- Contract Card -->
            <div class="card" id="contractCard">
                <div class="card-title">
                    <div class="card-title-icon">Û´</div>
                    <h3>Ù…Ø·Ø§Ù„Ø¹Ù‡ Ùˆ ØªØ£ÛŒÛŒØ¯ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯</h3>
                </div>
                
                <p>Ù„Ø·ÙØ§ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ø²ÛŒØ± Ø±Ø§ Ø¨Ø§ Ø¯Ù‚Øª Ù…Ø·Ø§Ù„Ø¹Ù‡ Ùˆ Ø¯Ø± ØµÙˆØ±Øª Ù…ÙˆØ§ÙÙ‚ØªØŒ ØªØ£ÛŒÛŒØ¯ Ú©Ù†ÛŒØ¯:</p>
                
                <div class="contract-container" id="contractText">
                    <h3>Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ø§Ø±Ø§Ø¦Ù‡ Ø®Ø¯Ù…Ø§Øª ÙØ±ÙˆØ´ Ø§Ø¹ØªØ¨Ø§Ø±ÛŒ Ø¨Ù‡ Ú©Ø³Ø¨ Ùˆ Ú©Ø§Ø±</h3>
                    <p><strong>Ù…Ø§Ø¯Ù‡ Û±â€“ Ø·Ø±ÙÛŒÙ† Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯</strong></p>
                    <p>Û±.Û±. Ø·Ø±Ù Ø§ÙˆÙ„: Ø´Ø±Ú©Øª Ø§ÛŒØ¯Ù‡ Ú©Ø§ÙˆØ§Ù† Ø³Ø±Ø¢Ù…Ø¯ Ø³ÛŒØ³ØªÙ… (Ø³Ù‡Ø§Ù…ÛŒ Ø®Ø§Øµ) ØµØ§Ø­Ø¨ Ø§Ù…ØªÛŒØ§Ø² Ø³Ø§ÛŒØª Ø¨Ù‡ØªØ±ÛŒÙ†Ùˆ ...</p>
                    <p>Û±.Û². Ø·Ø±Ù Ø¯ÙˆÙ…: Ø®Ø§Ù†Ù…/Ø¢Ù‚Ø§ÛŒ <span class="contract-highlight" id="contractName">Ù…Ø§Ù‡Ø§Ù† Ù†ÙˆØ±ÛŒ</span> Ø¨Ù‡ Ú©Ø¯ Ù…Ù„ÛŒ <span class="contract-highlight" id="contractNationalCode">----------</span> ØµØ§Ø­Ø¨ Ú©Ø³Ø¨ ÙˆÚ©Ø§Ø± <span class="contract-highlight" id="contractBusiness">Ú©Ø§ÙÙ‡ Ù…Ø§Ù‡Ø§Ù†</span>ØŒ Ø¯Ø§Ø±Ø§ÛŒ Ù¾Ø±ÙˆØ§Ù†Ù‡ Ø§Ø´ØªØºØ§Ù„ ØªØ®ØµØµÛŒ/Ø¬ÙˆØ§Ø² Ú©Ø³Ø¨ Ø¨Ù‡ Ø´Ù…Ø§Ø±Ù‡ <span class="contract-highlight" id="contractLicense">----------</span>ØŒ Ø¨Ù‡ Ù†Ø´Ø§Ù†ÛŒ <span class="contract-highlight" id="contractAddress">----------</span>ØŒ Ú©Ø¯Ù¾Ø³ØªÛŒ <span class="contract-highlight" id="contractPostalCode">----------</span> ØªÙ„ÙÙ† <span class="contract-highlight" id="contractPhone">09123456789</span>ØŒ Ú©Ù‡ Ø§Ø² Ø§ÛŒÙ† Ù¾Ø³ Â«Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø±Â» Ù†Ø§Ù…ÛŒØ¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.</p>
                    <!-- More contract text would go here -->
                    <p>Ù…Ø§Ø¯Ù‡ Û¶â€“ Ø´Ø±Ø§ÛŒØ· Ù…Ø§Ù„ÛŒ Ùˆ ØªØ³ÙˆÛŒÙ‡â€ŒØ­Ø³Ø§Ø¨</p>
                    <p>Û¶.Û¸. Ú©Ø³Ø¨ Ùˆ Ú©Ø§Ø±ØŒ Ùˆ Ø´Ù…Ø§Ø±Ù‡ Ø´Ø¨Ø§ <span class="contract-highlight" id="contractSheba">---------------------</span> Ù†Ø²Ø¯ Ø¨Ø§Ù†Ú© -------- Ø¨Ù‡ Ù†Ø§Ù… Ø®Ø§Ù†Ù…/Ø¢Ù‚Ø§ÛŒ <span class="contract-highlight" id="contractAccountName">Ù…Ø§Ù‡Ø§Ù† Ù†ÙˆØ±ÛŒ</span> Ø±Ø§ Ø¬Ù‡Øª ØªØ³ÙˆÛŒÙ‡ Ø­Ø³Ø§Ø¨ Ù…Ø¨Ø§Ù„Øº Ù…ÙˆØ¶ÙˆØ¹ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ù…Ø¹Ø±ÙÛŒ Ù…ÛŒ Ú©Ù†Ø¯.</p>
                </div>
                
                <div class="form-group">
                    <label>
                        <!-- <input type="checkbox" id="agreeTerms"> -->
                        <span><input type="checkbox" id="agreeTerms"> </span>
                        <span>Ù…ØªÙ† Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ø±Ø§ Ø¨Ù‡ Ø·ÙˆØ± Ú©Ø§Ù…Ù„ Ù…Ø·Ø§Ù„Ø¹Ù‡ Ú©Ø±Ø¯Ù‡â€ŒØ§Ù… Ùˆ Ø¨Ø§ Ú©Ù„ÛŒÙ‡ Ù…ÙØ§Ø¯ Ø¢Ù† Ù…ÙˆØ§ÙÙ‚Ù….</span>                         

                    </label>
                </div>
                
                <div class="form-group">
                    <label for="contractPin">Ø±Ù…Ø² Ø§Ù…Ø¶Ø§ÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„</label>
                    <div class="input-wrapper">
                        <input type="password" id="contractPin" maxlength="4" placeholder="Ø±Ù…Ø² Û´ Ø±Ù‚Ù…ÛŒ Ø§Ù…Ø¶Ø§ÛŒ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯">
                    </div>
                </div>
                
                <div class="btn-group">
                    <button class="btn btn-outline" id="downloadContract">Ø¯Ø§Ù†Ù„ÙˆØ¯ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯</button>
                    <button class="btn btn-primary" id="signContract">Ø§Ù…Ø¶Ø§ÛŒ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯</button>
                </div>
            </div>
            
            <!-- Status Summary Card -->
            <div class="card" id="statusCard">
                <div class="card-title">
                    <div class="card-title-icon">ğŸ“Š</div>
                    <h3>ÙˆØ¶Ø¹ÛŒØª Ø«Ø¨Øª Ù†Ø§Ù…</h3>
                </div>
                
                <div class="status-item">
                    <p>Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ø®ØµÛŒ <span class="badge badge-success">ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡</span></p>
                </div>
                
                <div class="status-item">
                    <p>Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø¯Ø§Ø±Ú© <span class="badge badge-warning">Ø¯Ø± Ø­Ø§Ù„ ØªÚ©Ù…ÛŒÙ„</span></p>
                </div>
                
                <div class="status-item">
                    <p>Ø§Ù…Ø¶Ø§ÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„ <span class="badge badge-warning">Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±</span></p>
                </div>
                
                <div class="status-item">
                    <p>ØªØ£ÛŒÛŒØ¯ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ <span class="badge badge-warning">Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±</span></p>
                </div>
                
                <button class="btn btn-secondary btn-full" id="finalSubmit" disabled>Ø§Ø±Ø³Ø§Ù„ Ù†Ù‡Ø§ÛŒÛŒ Ø¯Ø±Ø®ÙˆØ§Ø³Øª</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="container">
        <p>Â© 2023 Ø¨Ù‡ØªØ±ÛŒÙ†Ùˆ - ØªÙ…Ø§Ù…ÛŒ Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸ Ø§Ø³Øª.</p>
        <p>Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ: Û°Û²Û±-Û¹Û±Û°Û·Û°Û·ÛµÛµ | Ø³Ø§Ø¹Ø§Øª Ú©Ø§Ø±: Û¹ ØµØ¨Ø­ ØªØ§ Ûµ Ø¨Ø¹Ø¯Ø§Ø²Ø¸Ù‡Ø±</p>
    </footer>

    <script>
        // DOM Elements
        const progressBar = document.getElementById('progressBar');
        const signatureCanvas = document.getElementById('signatureCanvas');
        const clearSignatureBtn = document.getElementById('clearSignature');
        const saveSignatureBtn = document.getElementById('saveSignature');
        const resendCodeBtn = document.getElementById('resendCode');
        const verifyCodeBtn = document.getElementById('verifyCode');
        const savePersonalInfoBtn = document.getElementById('savePersonalInfo');
        const uploadDocumentsBtn = document.getElementById('uploadDocuments');
        const saveSignatureDataBtn = document.getElementById('saveSignatureData');
        const signContractBtn = document.getElementById('signContract');
        const finalSubmitBtn = document.getElementById('finalSubmit');
        const downloadContractBtn = document.getElementById('downloadContract');
        const agreeTermsCheckbox = document.getElementById('agreeTerms');
        const contractPinInput = document.getElementById('contractPin');
        
        // OTP Inputs
        const codeInputs = [
            document.getElementById('code1'),
            document.getElementById('code2'),
            document.getElementById('code3'),
            document.getElementById('code4'),
            document.getElementById('code5')
        ];
        
        // Form Inputs
        const nationalCodeInput = document.getElementById('nationalCode');
        const taxCodeInput = document.getElementById('taxCode');
        const businessAddressInput = document.getElementById('businessAddress');
        const postalCodeInput = document.getElementById('postalCode');
        const shebaNumberInput = document.getElementById('shebaNumber');
        const signaturePinInput = document.getElementById('signaturePin');
        const confirmSignaturePinInput = document.getElementById('confirmSignaturePin');
        
        // Contract elements
        const contractName = document.getElementById('contractName');
        const contractNationalCode = document.getElementById('contractNationalCode');
        const contractBusiness = document.getElementById('contractBusiness');
        const contractLicense = document.getElementById('contractLicense');
        const contractAddress = document.getElementById('contractAddress');
        const contractPostalCode = document.getElementById('contractPostalCode');
        const contractPhone = document.getElementById('contractPhone');
        const contractSheba = document.getElementById('contractSheba');
        const contractAccountName = document.getElementById('contractAccountName');
        
        // Upload areas
        const uploadAreas = [
            document.getElementById('nationalCardUpload'),
            document.getElementById('bankCardUpload'),
            document.getElementById('certificateUpload')
        ];
        
        // State variables
        let currentStep = 2;
        let signatureData = null;
        let userData = {
            name: "Ù…Ø§Ù‡Ø§Ù† Ù†ÙˆØ±ÛŒ",
            business: "Ú©Ø§ÙÙ‡ Ù…Ø§Ù‡Ø§Ù†",
            phone: "09123456789",
            nationalCode: "",
            taxCode: "",
            address: "",
            postalCode: "",
            sheba: "",
            documents: {
                nationalCard: false,
                bankCard: false,
                certificate: false
            },
            signature: null,
            signaturePin: "",
            contractSigned: false
        };
        
        // Initialize Canvas for Signature
        const canvasCtx = signatureCanvas.getContext('2d');
        let isDrawing = false;
        let lastX = 0;
        let lastY = 0;
        
        // Set canvas size
        signatureCanvas.width = signatureCanvas.offsetWidth;
        signatureCanvas.height = signatureCanvas.offsetHeight;
        
        // Canvas setup
        canvasCtx.lineWidth = 2;
        canvasCtx.lineCap = 'round';
        canvasCtx.strokeStyle = '#1F4E79';
        
        // Drawing functions
        function startDrawing(e) {
            isDrawing = true;
            [lastX, lastY] = getMousePos(e);
        }
        
        function draw(e) {
            if (!isDrawing) return;
            
            const [x, y] = getMousePos(e);
            
            canvasCtx.beginPath();
            canvasCtx.moveTo(lastX, lastY);
            canvasCtx.lineTo(x, y);
            canvasCtx.stroke();
            
            [lastX, lastY] = [x, y];
        }
        
        function stopDrawing() {
            isDrawing = false;
        }
        
        function getMousePos(e) {
            const rect = signatureCanvas.getBoundingClientRect();
            let x, y;
            
            if (e.type.includes('touch')) {
                x = e.touches[0].clientX - rect.left;
                y = e.touches[0].clientY - rect.top;
            } else {
                x = e.clientX - rect.left;
                y = e.clientY - rect.top;
            }
            
            return [x, y];
        }
        
        // Event Listeners for Signature Canvas
        signatureCanvas.addEventListener('mousedown', startDrawing);
        signatureCanvas.addEventListener('mousemove', draw);
        signatureCanvas.addEventListener('mouseup', stopDrawing);
        signatureCanvas.addEventListener('mouseout', stopDrawing);
        
        // Touch events for mobile
        signatureCanvas.addEventListener('touchstart', (e) => {
            e.preventDefault();
            startDrawing(e);
        });
        
        signatureCanvas.addEventListener('touchmove', (e) => {
            e.preventDefault();
            draw(e);
        });
        
        signatureCanvas.addEventListener('touchend', (e) => {
            e.preventDefault();
            stopDrawing();
        });
        
        // Clear Signature
        clearSignatureBtn.addEventListener('click', () => {
            canvasCtx.clearRect(0, 0, signatureCanvas.width, signatureCanvas.height);
        });
        
        // Save Signature
        saveSignatureBtn.addEventListener('click', () => {
            signatureData = signatureCanvas.toDataURL();
            alert('Ø§Ù…Ø¶Ø§ÛŒ Ø´Ù…Ø§ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯. Ù„Ø·ÙØ§ Ø±Ù…Ø² Û´ Ø±Ù‚Ù…ÛŒ Ø®ÙˆØ¯ Ø±Ø§ ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒØ¯.');
        });
        
        // OTP Input Handling
        codeInputs.forEach((input, index) => {
            input.addEventListener('input', (e) => {
                // Auto-focus next input
                if (e.target.value.length === 1 && index < codeInputs.length - 1) {
                    codeInputs[index + 1].focus();
                }
            });
            
            input.addEventListener('keydown', (e) => {
                // Handle backspace
                if (e.key === 'Backspace' && !e.target.value && index > 0) {
                    codeInputs[index - 1].focus();
                }
            });
        });
        
        // Resend OTP Code
        resendCodeBtn.addEventListener('click', () => {
            resendCodeBtn.disabled = true;
            resendCodeBtn.textContent = 'Û±Û²Û° Ø«Ø§Ù†ÛŒÙ‡ ØªØ§ Ø§Ø±Ø³Ø§Ù„ Ù…Ø¬Ø¯Ø¯';
            
            // Simulate countdown
            let countdown = 120;
            const interval = setInterval(() => {
                countdown--;
                resendCodeBtn.textContent = `${countdown} Ø«Ø§Ù†ÛŒÙ‡ ØªØ§ Ø§Ø±Ø³Ø§Ù„ Ù…Ø¬Ø¯Ø¯`;
                
                if (countdown <= 0) {
                    clearInterval(interval);
                    resendCodeBtn.disabled = false;
                    resendCodeBtn.textContent = 'Ø§Ø±Ø³Ø§Ù„ Ù…Ø¬Ø¯Ø¯ Ú©Ø¯';
                    alert('Ú©Ø¯ Ø¬Ø¯ÛŒØ¯ Ø¨Ù‡ Ø´Ù…Ø§Ø±Ù‡ Ø´Ù…Ø§ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯.');
                }
            }, 1000);
        });
        
        // Verify OTP Code
        verifyCodeBtn.addEventListener('click', () => {
            const code = codeInputs.map(input => input.value).join('');
            
            if (code.length === 5) {
                // Simulate verification
                codeInputs.forEach(input => input.disabled = true);
                verifyCodeBtn.disabled = true;
                verifyCodeBtn.textContent = 'Ú©Ø¯ ØªØ£ÛŒÛŒØ¯ Ø´Ø¯';
                verifyCodeBtn.style.backgroundColor = '#27AE60';
                
                alert('Ø´Ù…Ø§Ø±Ù‡ Ù‡Ù…Ø±Ø§Ù‡ Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ØªØ£ÛŒÛŒØ¯ Ø´Ø¯.');
            } else {
                alert('Ù„Ø·ÙØ§ Ú©Ø¯ Ûµ Ø±Ù‚Ù…ÛŒ Ø±Ø§ Ú©Ø§Ù…Ù„ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.');
            }
        });
        
        // Save Personal Information
        savePersonalInfoBtn.addEventListener('click', () => {
            // Update user data
            userData.nationalCode = nationalCodeInput.value;
            userData.taxCode = taxCodeInput.value;
            userData.address = businessAddressInput.value;
            userData.postalCode = postalCodeInput.value;
            userData.sheba = shebaNumberInput.value;
            
            // Update contract
            contractNationalCode.textContent = userData.nationalCode || "----------";
            contractAddress.textContent = userData.address || "----------";
            contractPostalCode.textContent = userData.postalCode || "----------";
            contractSheba.textContent = userData.sheba || "---------------------";
            contractAccountName.textContent = userData.name;
            
            // Simulate saving
            savePersonalInfoBtn.disabled = true;
            savePersonalInfoBtn.textContent = 'Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯ âœ“';
            
            // Move to next step
            setTimeout(() => {
                updateProgress(2);
                document.getElementById('documentUploadCard').scrollIntoView({ behavior: 'smooth' });
            }, 500);
        });
        
        // Handle Upload Areas
        uploadAreas.forEach(area => {
            area.addEventListener('click', () => {
                // Simulate file selection
                const input = document.createElement('input');
                input.type = 'file';
                input.accept = '.jpg,.jpeg,.png,.pdf';
                
                input.addEventListener('change', (e) => {
                    if (e.target.files.length > 0) {
                        const fileName = e.target.files[0].name;
                        const fileType = fileName.split('.').pop().toLowerCase();
                        const fileSize = e.target.files[0].size;
                        
                        if (fileSize > 5 * 1024 * 1024) {
                            alert('Ø­Ø¬Ù… ÙØ§ÛŒÙ„ Ø¨Ø§ÛŒØ¯ Ú©Ù…ØªØ± Ø§Ø² Ûµ Ù…Ú¯Ø§Ø¨Ø§ÛŒØª Ø¨Ø§Ø´Ø¯.');
                            return;
                        }
                        
                        if (!['jpg', 'jpeg', 'png', 'pdf'].includes(fileType)) {
                            alert('ÙØ±Ù…Øª ÙØ§ÛŒÙ„ Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª. ÙÙ‚Ø· JPG, PNG, PDF Ù…Ø¬Ø§Ø² Ø§Ø³Øª.');
                            return;
                        }
                        
                        // Add to upload list
                        const list = area.nextElementSibling;
                        const newItem = document.createElement('li');
                        newItem.className = 'upload-item';
                        newItem.innerHTML = `
                            <span>${fileName}</span>
                            <div class="upload-status uploaded"></div>
                        `;
                        list.appendChild(newItem);
                        
                        // Update document status
                        if (area.id === 'nationalCardUpload') userData.documents.nationalCard = true;
                        if (area.id === 'bankCardUpload') userData.documents.bankCard = true;
                        if (area.id === 'certificateUpload') userData.documents.certificate = true;
                        
                        // Check if all documents are uploaded
                        checkDocumentsStatus();
                    }
                });
                
                input.click();
            });
            
            // Drag and drop
            area.addEventListener('dragover', (e) => {
                e.preventDefault();
                area.classList.add('dragover');
            });
            
            area.addEventListener('dragleave', () => {
                area.classList.remove('dragover');
            });
            
            area.addEventListener('drop', (e) => {
                e.preventDefault();
                area.classList.remove('dragover');
                
                // Simulate file drop
                if (e.dataTransfer.files.length > 0) {
                    const fileName = e.dataTransfer.files[0].name;
                    const list = area.nextElementSibling;
                    const newItem = document.createElement('li');
                    newItem.className = 'upload-item';
                    newItem.innerHTML = `
                        <span>${fileName}</span>
                        <div class="upload-status uploaded"></div>
                    `;
                    list.appendChild(newItem);
                    
                    // Update document status
                    if (area.id === 'nationalCardUpload') userData.documents.nationalCard = true;
                    if (area.id === 'bankCardUpload') userData.documents.bankCard = true;
                    if (area.id === 'certificateUpload') userData.documents.certificate = true;
                    
                    // Check if all documents are uploaded
                    checkDocumentsStatus();
                }
            });
        });
        
        // Check Documents Status
        function checkDocumentsStatus() {
            const allUploaded = Object.values(userData.documents).every(status => status === true);
            
            if (allUploaded) {
                uploadDocumentsBtn.disabled = false;
            }
        }
        
        // Upload Documents
        uploadDocumentsBtn.addEventListener('click', () => {
            // Simulate upload
            uploadDocumentsBtn.disabled = true;
            uploadDocumentsBtn.textContent = 'Ù…Ø¯Ø§Ø±Ú© Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯Ù†Ø¯ âœ“';
            
            // Move to next step
            setTimeout(() => {
                updateProgress(3);
                document.getElementById('signatureCard').scrollIntoView({ behavior: 'smooth' });
            }, 500);
        });
        
        // Save Signature Data
        saveSignatureDataBtn.addEventListener('click', () => {
            const pin = signaturePinInput.value;
            const confirmPin = confirmSignaturePinInput.value;
            
            if (pin.length !== 4) {
                alert('Ø±Ù…Ø² Ø¨Ø§ÛŒØ¯ Û´ Ø±Ù‚Ù…ÛŒ Ø¨Ø§Ø´Ø¯.');
                return;
            }
            
            if (pin !== confirmPin) {
                alert('Ø±Ù…Ø² Ùˆ ØªÚ©Ø±Ø§Ø± Ø¢Ù† ÛŒÚ©Ø³Ø§Ù† Ù†ÛŒØ³ØªÙ†Ø¯.');
                return;
            }
            
            if (!signatureData) {
                alert('Ù„Ø·ÙØ§ Ø§Ø¨ØªØ¯Ø§ Ø§Ù…Ø¶Ø§ÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ø±Ø³Ù… Ú©Ù†ÛŒØ¯.');
                return;
            }
            
            userData.signature = signatureData;
            userData.signaturePin = pin;
            
            // Simulate saving
            saveSignatureDataBtn.disabled = true;
            saveSignatureDataBtn.textContent = 'Ø§Ù…Ø¶Ø§ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯ âœ“';
            
            // Move to next step
            setTimeout(() => {
                updateProgress(4);
                document.getElementById('contractCard').scrollIntoView({ behavior: 'smooth' });
            }, 500);
        });
        
        // Sign Contract
        signContractBtn.addEventListener('click', () => {
            if (!agreeTermsCheckbox.checked) {
                alert('Ù„Ø·ÙØ§ Ø§Ø¨ØªØ¯Ø§ Ø¨Ø§ Ù…ÙØ§Ø¯ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ù…ÙˆØ§ÙÙ‚Øª Ú©Ù†ÛŒØ¯.');
                return;
            }
            
            const pin = contractPinInput.value;
            
            if (pin !== userData.signaturePin) {
                alert('Ø±Ù…Ø² Ø§Ù…Ø¶Ø§ÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„ Ù†Ø§Ø¯Ø±Ø³Øª Ø§Ø³Øª.');
                return;
            }
            
            userData.contractSigned = true;
            
            // Update UI
            signContractBtn.disabled = true;
            signContractBtn.textContent = 'Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ø§Ù…Ø¶Ø§ Ø´Ø¯ âœ“';
            agreeTermsCheckbox.disabled = true;
            contractPinInput.disabled = true;
            
            // Enable final submit
            finalSubmitBtn.disabled = false;
            
            // Update status
            document.querySelectorAll('.status-item')[3].innerHTML = 
                '<p>ØªØ£ÛŒÛŒØ¯ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ <span class="badge badge-success">ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡</span></p>';
            
            alert('Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù…Ø¶Ø§ Ø´Ø¯.');
        });
        
        // Download Contract
        downloadContractBtn.addEventListener('click', () => {
            alert('Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ø¨Ø§ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ù…Ø§ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯.');
            // In a real implementation, this would generate a PDF with user data
        });
        
        // Final Submit
        finalSubmitBtn.addEventListener('click', () => {
            // Check if all steps are completed
            const allCompleted = userData.nationalCode && 
                                userData.taxCode && 
                                userData.address && 
                                userData.postalCode && 
                                userData.sheba &&
                                userData.documents.nationalCard &&
                                userData.documents.bankCard &&
                                userData.documents.certificate &&
                                userData.signature &&
                                userData.contractSigned;
            
            if (allCompleted) {
                finalSubmitBtn.disabled = true;
                finalSubmitBtn.textContent = 'Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø´Ù…Ø§ Ø«Ø¨Øª Ø´Ø¯ âœ“';
                
                alert('Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø«Ø¨Øª Ù†Ø§Ù… Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯. Ù‡Ù…Ú©Ø§Ø±Ø§Ù† Ù…Ø§ Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ Ø¨Ø§ Ø´Ù…Ø§ ØªÙ…Ø§Ø³ Ø®ÙˆØ§Ù‡Ù†Ø¯ Ú¯Ø±ÙØª.');
            } else {
                alert('Ù„Ø·ÙØ§ ØªÙ…Ø§Ù… Ù…Ø±Ø§Ø­Ù„ Ø±Ø§ ØªÚ©Ù…ÛŒÙ„ Ú©Ù†ÛŒØ¯.');
            }
        });
        
        // Update Progress Bar
        function updateProgress(step) {
            currentStep = step;
            const progressPercentage = (step / 4) * 100;
            progressBar.style.width = `${progressPercentage}%`;
            
            // Update step indicators
            document.querySelectorAll('.step').forEach((stepEl, index) => {
                stepEl.classList.remove('active', 'completed');
                
                if (index + 1 < step) {
                    stepEl.classList.add('completed');
                } else if (index + 1 === step) {
                    stepEl.classList.add('active');
                }
            });
            
            // Update status card
            if (step >= 2) {
                document.querySelectorAll('.status-item')[1].innerHTML = 
                    '<p>Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø¯Ø§Ø±Ú© <span class="badge badge-success">ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡</span></p>';
            }
            
            if (step >= 3) {
                document.querySelectorAll('.status-item')[2].innerHTML = 
                    '<p>Ø§Ù…Ø¶Ø§ÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„ <span class="badge badge-success">ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡</span></p>';
            }
        }
        
        // Initialize progress bar
        updateProgress(currentStep);
        
        // Form Validation
        function validateForm() {
            // Simple validation for demonstration
            const inputs = [
                nationalCodeInput,
                taxCodeInput,
                businessAddressInput,
                postalCodeInput,
                shebaNumberInput
            ];
            
            let isValid = true;
            
            inputs.forEach(input => {
                if (!input.value.trim()) {
                    input.style.borderColor = 'var(--error)';
                    isValid = false;
                } else {
                    input.style.borderColor = 'var(--gray)';
                }
            });
            
            return isValid;
        }
        
        // Add input validation
        [nationalCodeInput, taxCodeInput, postalCodeInput].forEach(input => {
            input.addEventListener('input', (e) => {
                // Only allow numbers
                e.target.value = e.target.value.replace(/[^0-9]/g, '');
            });
        });
        
        // Initialize contract with default values
        contractName.textContent = userData.name;
        contractBusiness.textContent = userData.business;
        contractPhone.textContent = userData.phone;
        
        // Add responsive canvas resize
        window.addEventListener('resize', () => {
            signatureCanvas.width = signatureCanvas.offsetWidth;
            signatureCanvas.height = signatureCanvas.offsetHeight;
            
            // Redraw signature if exists
            if (signatureData) {
                const img = new Image();
                img.onload = () => {
                    canvasCtx.drawImage(img, 0, 0);
                };
                img.src = signatureData;
            }
        });
    </script>
</body>
</html>